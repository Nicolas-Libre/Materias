programa ejemplo
procesos
  proceso recorrerCalle (E soy:numero)
  variables
    f:numero
    m:numero
    CaActual:numero
    AvActual:numero
  comenzar
    f:=0
    m:=1
    CaActual:=PosCa
    repetir 99    
      mientras (HayFlorEnLaEsquina)
        tomarFlor
        f:=f+1
      si (f=10)
        f:=0
        m:=0
        BloquearEsquina (10,10)
        Pos (10,10)
        mientras (HayFlorEnLaBolsa)
          depositarFlor
        EnviarMensaje (V,RC)
        Pos (AvActual,CaActual)
        LiberarEsquina (10,10)
      mover
      AvActual:=PosAv  
      m:=m+1
      si (m=15)
        f:=0
        m:=0
        si (HayFlorEnLaBolsa)
          BloquearEsquina (10,10)
          Pos (10,10)
          mientras (HayFlorEnLaBolsa)
            depositarFlor
          EnviarMensaje (V,RC)
          Pos (AvActual,CaActual)
          LiberarEsquina (10,10)
      EnviarMensaje (soy,RC)
      EnviarMensaje (F,RC)
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      f:=f+1
    si (f=10)
      m:=0
      BloquearEsquina (10,10)
      Pos (10,10)
      mientras (HayFlorEnLaBolsa)
        depositarFlor
      EnviarMensaje (V,RC)
      Pos (AvActual,CaActual)
      LiberarEsquina (10,10)
    sino
      si (m=15)
        f:=0
        si (HayFlorEnLaBolsa)
          BloquearEsquina (10,10)
          Pos (10,10)
          mientras (HayFlorEnLaBolsa)
            depositarFlor
          EnviarMensaje (V,RC)
          Pos (AvActual,CaActual)
          LiberarEsquina (10,10)
    EnviarMensaje (soy,RC)
    EnviarMensaje (V,RC)   
  fin
areas
  ARC: AreaP (1,5,1,5)
  AR1: AreaP (1,3,100,3)
  AR2: AreaP (1,4,100,4)
  Esquina: AreaC (10,10,10,10)
robots
  robot robotRecolector
  variables
    soy:numero
  comenzar
    derecha
    RecibirMensaje (soy,RC)
    recorrerCalle (soy)
    EnviarMensaje (soy,RC)
    EnviarMensaje (V,RC)
  fin
  robot robotCosechador
  variables
    soy:numero
    hay:boolean
    terminoR1,terminoR2:boolean
    f:numero
  comenzar
    terminoR1:=F
    terminoR2:=F
    EnviarMensaje (1,r1)
    EnviarMensaje (2,r2)
    mientras (terminoR1=F) | (terminoR2=F)
      RecibirMensaje (hay,*)
      si (hay=V)
        hay:=F
        BloquearEsquina (10,10)
        Pos (10,10)
        mientras (HayFlorEnLaEsquina)
          tomarFlor
          f:=f+1
        Pos (1,5)
        LiberarEsquina (10,10)
      repetir 2
        RecibirMensaje (soy,*)
        si (soy=1)
          RecibirMensaje (terminoR1,r1)
        sino
          si (soy=2)
            RecibirMensaje (terminoR2,r2)
    Informar ('flores juntadas iugal a ', f)
  fin  
variables
  r1,r2: robotRecolector
  RC: robotCosechador
comenzar
  AsignarArea(r1, AR1)
  AsignarArea(r2, AR2)
  AsignarArea(RC, ARC)
  AsignarArea (r1,Esquina)
  AsignarArea (r2,Esquina)
  AsignarArea (RC,Esquina)
  Iniciar (r1,1,3)
  Iniciar (r2,1,4)
  Iniciar (RC,1,5)
fin