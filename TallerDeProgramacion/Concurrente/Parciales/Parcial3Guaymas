programa ejemplo
procesos
  proceso juntarFlores (ES f:numero; E AvMov:numero; E CaMov:numero E AvIni:numero; E CaIni:numero)
  comenzar
    BloquearEsquina (AvMov,CaMov)
    Pos (AvMov,CaMov)
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      f:=f+1
    Pos (AvIni,CaIni)
    LiberarEsquina (AvMov,CaMov)
  fin
  proceso dejarFlores (E AvIni:numero; E CaIni:numero)
  comenzar
    mientras (HayFlorEnLaBolsa)
      BloquearEsquina (10,10)
      Pos (10,10)
      depositarFlor
      Pos (AvIni,CaIni)
      LiberarEsquina (10,10)
  fin
areas
  AR1: AreaP (1,1,1,1)
  AR2: AreaP (2,1,2,1)
  AR3: AreaP (3,1,3,1)
  ARF: AreaP (4,1,4,1)
  cuadrante: AreaPC (40,40,60,60)
  Esquina: AreaPC (10,10,10,10)
robots
  robot robotRecolector
  variables
    AvMov,CaMov:numero
    f:numero
    sigo:boolean
    AvIni,CaIni:numero
  comenzar
    f:=0
    sigo:=V
    AvIni:=PosAv
    CaIni:=PosCa
    mientras (sigo=V)
      RecibirMensaje (sigo,RF)
      si (sigo=V)
        RecibirMensaje (AvMov,RF)
        RecibirMensaje (CaMov,RF)
        juntarFlores (f, AvMov,CaMov,AvIni,CaIni)
    dejarFlores (AvIni,CaIni)
    EnviarMensaje (f,RF)
  fin
  robot robotFis
  variables
    soy:numero
    fTotales,f:numero
    Av:numero
    Ca:numero
  comenzar
    repetir 8
      Random (soy,1,3)
      Random (Av,40,60)
      Random (Ca,40,60)
      si (soy=1)
        EnviarMensaje (V,r1)
        EnviarMensaje (Av,r1)
        EnviarMensaje (Ca,r1)
      sino
        si (soy=2)
          EnviarMensaje (V,r2)
          EnviarMensaje (Av,r2)
          EnviarMensaje (Ca,r2)
        sino
          EnviarMensaje (V,r3)
          EnviarMensaje (Av,r3)
          EnviarMensaje (Ca,r3)
    EnviarMensaje (F,r1)
    EnviarMensaje (F,r2)
    EnviarMensaje (F,r3)
    repetir 3
      RecibirMensaje (f,*)  
      fTotales:=fTotales +f
    Informar ('los robotts juntaron flores iguales a ', fTotales)       
  fin
variables
  r1,r2,r3: robotRecolector
  RF: robotFis
comenzar
  AsignarArea(r1, cuadrante)
  AsignarArea(r2, cuadrante)
  AsignarArea(r3, cuadrante)
  AsignarArea(r1, Esquina)
  AsignarArea(r2, Esquina)
  AsignarArea(r3, Esquina)
  AsignarArea (r1,AR1)
  AsignarArea (r2,AR2)
  AsignarArea (r3,AR3)
  AsignarArea (RF,ARF)
  Iniciar(r1, 1,1)
  Iniciar(r2, 2,1)
  Iniciar(r3, 3,1)
  Iniciar(RF, 4,1)
fin